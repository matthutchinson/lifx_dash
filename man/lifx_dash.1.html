<!DOCTYPE html>
<html>
<head>
  <meta http-equiv='content-type' value='text/html;charset=utf8'>
  <meta name='generator' value='Ronn/v0.7.3 (http://github.com/rtomayko/ronn/tree/0.7.3)'>
  <title>lifx_dash(1) - Toggle LIFX lights with an Amazon Dash button</title>
  <style type='text/css' media='all'>
  /* style: man */
  body#manpage {margin:0}
  .mp {max-width:100ex;padding:0 9ex 1ex 4ex}
  .mp p,.mp pre,.mp ul,.mp ol,.mp dl {margin:0 0 20px 0}
  .mp h2 {margin:10px 0 0 0}
  .mp > p,.mp > pre,.mp > ul,.mp > ol,.mp > dl {margin-left:8ex}
  .mp h3 {margin:0 0 0 4ex}
  .mp dt {margin:0;clear:left}
  .mp dt.flush {float:left;width:8ex}
  .mp dd {margin:0 0 0 9ex}
  .mp h1,.mp h2,.mp h3,.mp h4 {clear:left}
  .mp pre {margin-bottom:20px}
  .mp pre+h2,.mp pre+h3 {margin-top:22px}
  .mp h2+pre,.mp h3+pre {margin-top:5px}
  .mp img {display:block;margin:auto}
  .mp h1.man-title {display:none}
  .mp,.mp code,.mp pre,.mp tt,.mp kbd,.mp samp,.mp h3,.mp h4 {font-family:monospace;font-size:14px;line-height:1.42857142857143}
  .mp h2 {font-size:16px;line-height:1.25}
  .mp h1 {font-size:20px;line-height:2}
  .mp {text-align:justify;background:#fff}
  .mp,.mp code,.mp pre,.mp pre code,.mp tt,.mp kbd,.mp samp {color:#131211}
  .mp h1,.mp h2,.mp h3,.mp h4 {color:#030201}
  .mp u {text-decoration:underline}
  .mp code,.mp strong,.mp b {font-weight:bold;color:#131211}
  .mp em,.mp var {font-style:italic;color:#232221;text-decoration:none}
  .mp a,.mp a:link,.mp a:hover,.mp a code,.mp a pre,.mp a tt,.mp a kbd,.mp a samp {color:#0000ff}
  .mp b.man-ref {font-weight:normal;color:#434241}
  .mp pre {padding:0 4ex}
  .mp pre code {font-weight:normal;color:#434241}
  .mp h2+pre,h3+pre {padding-left:0}
  ol.man-decor,ol.man-decor li {margin:3px 0 10px 0;padding:0;float:left;width:33%;list-style-type:none;text-transform:uppercase;color:#999;letter-spacing:1px}
  ol.man-decor {width:100%}
  ol.man-decor li.tl {text-align:left}
  ol.man-decor li.tc {text-align:center;letter-spacing:4px}
  ol.man-decor li.tr {text-align:right;float:right}
  </style>
</head>
<!--
  The following styles are deprecated and will be removed at some point:
  div#man, div#man ol.man, div#man ol.head, div#man ol.man.

  The .man-page, .man-decor, .man-head, .man-foot, .man-title, and
  .man-navigation should be used instead.
-->
<body id='manpage'>
  <div class='mp' id='man'>

  <div class='man-navigation' style='display:none'>
    <a href="#NAME">NAME</a>
    <a href="#SYNOPSIS">SYNOPSIS</a>
    <a href="#DESCRIPTION">DESCRIPTION</a>
    <a href="#REQUIREMENTS">REQUIREMENTS</a>
    <a href="#OPTIONS">OPTIONS</a>
    <a href="#EXAMPLES">EXAMPLES</a>
    <a href="#FILES">FILES</a>
    <a href="#BUGS">BUGS</a>
    <a href="#LICENSE">LICENSE</a>
    <a href="#COPYRIGHT">COPYRIGHT</a>
    <a href="#AUTHOR">AUTHOR</a>
    <a href="#SEE-ALSO">SEE ALSO</a>
  </div>

  <ol class='man-decor man-head man head'>
    <li class='tl'>lifx_dash(1)</li>
    <li class='tc'></li>
    <li class='tr'>lifx_dash(1)</li>
  </ol>

  <h2 id="NAME">NAME</h2>
<p class="man-name">
  <code>lifx_dash</code> - <span class="man-whatis">Toggle LIFX lights with an Amazon Dash button</span>
</p>

<h2 id="SYNOPSIS">SYNOPSIS</h2>

<p><code>lifx_dash</code> <code>monitor</code> -m DASH_MAC_ADDRESS -t LIFX_API_TOKEN<br />
<code>lifx_dash</code> <code>snoop</code><br />
<code>lifx_dash</code> <code>config</code></p>

<h2 id="DESCRIPTION">DESCRIPTION</h2>

<p><strong>lifx_dash</strong> is a simple command-line tool to monitor your network for Amazon
Dash button presses and toggle LIFX lights ON or OFF. The tool comes with two
main commands, <code>monitor</code> and <code>snoop</code>.</p>

<p>Use <code>snoop</code> to scan your network for Dash button presses to identify your Dash
button MAC address.</p>

<p>Use <code>monitor</code> (with a MAC address and LIFX HTTP API token) to listen for Dash
button presses and toggle your lights ON or OFF. You can optionally pass a LIFX
bulb selector (the bulb ID), or choose to daemonize the <code>monitor</code> process.</p>

<p>Use the <code>config</code> command to set default options for the <code>monitor</code> and <code>snoop</code>
commands (saved to ~/.lifx_dash.rc.yml).</p>

<h2 id="REQUIREMENTS">REQUIREMENTS</h2>

<p><code>lifx_dash</code> requires at least one LIFX bulb, and any Amazon Dash button. During
Amazon's Dash button setup process, complete all the steps except the last one,
do NOT select any particular product to be ordered. You will also need a Wifi
network and sudo (root) access to allow your network adaptor to sniff for
packets.</p>

<p>You can get a free LIFX API token from here:
<a href="https://cloud.lifx.com/settings" data-bare-link="true">https://cloud.lifx.com/settings</a></p>

<h2 id="OPTIONS">OPTIONS</h2>

<p>The snoop command has one optional flag, the network interface to listen on.</p>

<ul>
<li><code>-i</code>, <code>--iface=arg</code>: Network Interface (default: en0)</li>
</ul>


<p>The <code>monitor</code> command accepts the following flags, both a mac address and api
token are required.</p>

<ul>
<li><code>-m</code>, <code>--mac_address=arg</code>: Dash button MAC Address (default: none)</li>
<li><code>-t</code>, <code>--token=arg</code>: LIFX HTTP API Token (default: none)</li>
<li><code>-s</code>, <code>--selector=arg</code>:  LIFX Bulb Selector (default: all)</li>
<li><code>-i</code>, <code>--iface=arg</code>: Network Interface (default: en0)</li>
<li><code>-d</code>, <code>--[no-]daemonize</code>: Dameonize the monitor process</li>
</ul>


<h2 id="EXAMPLES">EXAMPLES</h2>

<p>Get help on command options and arguments</p>

<pre><code>$ lifx_dash -h
$ lifx_dash monitor -h
$ lifx_dash snoop --help
</code></pre>

<p>Snoop for Dash button presses on en1</p>

<pre><code>$ lifx_dash snoop en1
</code></pre>

<p>Monitor Dash button presses on en0 with DASH_MAC_ADDRESS and LIFX_API_TOKEN,
when pressed, toggle all lights</p>

<pre><code>$ lifx_dash monitor -t LIFX_API_TOKEN -m DASH_MAC_ADDRESS
</code></pre>

<p>Monitor Dash button presses on en1 with a DASH_MAC_ADDRESS and LIFX_API_TOKEN,
when pressed toggle the light with id 'd3b2f2d97459'</p>

<pre><code>$ lifx_dash monitor --token=API_TOKEN --mac=MAC_ADDRESS -s 'd3b2f2d97459' en1
</code></pre>

<p>Show the current configuration file options used by the commands</p>

<pre><code>$ lifx_dash config -s
</code></pre>

<h2 id="FILES">FILES</h2>

<p>Use the config command to set values for the command options, these will be
saved to: ~/.lifx_dash.rc.yml and used as defaults. They can still be overridden
with any arguments passed on the command line.</p>

<p>When running as a daemon, the <code>lifx_dash monitor</code> command will log output to
<code>~/tmp/lifx_dash.log</code></p>

<h2 id="BUGS">BUGS</h2>

<p>No known bugs. Please report any issues here:
<a href="https://github.com/matthutchinson/lifx_dash/issues" data-bare-link="true">https://github.com/matthutchinson/lifx_dash/issues</a></p>

<h2 id="LICENSE">LICENSE</h2>

<p>The MIT License (see link below).</p>

<h2 id="COPYRIGHT">COPYRIGHT</h2>

<p>Copyright (c) 2016 Matthew Hutchinson</p>

<h2 id="AUTHOR">AUTHOR</h2>

<p>Matthew Hutchinson, <a href="https://matthewhutchinson.net" data-bare-link="true">https://matthewhutchinson.net</a></p>

<h2 id="SEE-ALSO">SEE ALSO</h2>

<ul>
<li><a href="https://raw.githubusercontent.com/matthutchinson/lifx_dash/master/LICENSE.txt" data-bare-link="true">https://raw.githubusercontent.com/matthutchinson/lifx_dash/master/LICENSE.txt</a></li>
<li><a href="https://rubygems.org/gems/lifx_dash" data-bare-link="true">https://rubygems.org/gems/lifx_dash</a></li>
<li><a href="https://github.com/matthutchinson/lifx_dash" data-bare-link="true">https://github.com/matthutchinson/lifx_dash</a></li>
<li><a href="https://cloud.lifx.com/settings" data-bare-link="true">https://cloud.lifx.com/settings</a></li>
<li><a href="http://tinyurl.com/zujfkjs" data-bare-link="true">http://tinyurl.com/zujfkjs</a></li>
</ul>



  <ol class='man-decor man-foot man foot'>
    <li class='tl'></li>
    <li class='tc'>June 2016</li>
    <li class='tr'>lifx_dash(1)</li>
  </ol>

  </div>
</body>
</html>
